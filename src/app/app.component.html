

<div>

  <table>

    <tr>
      <th>id</th>
      <th>name</th>
      <th>username</th>
      <th>email</th>

    </tr>

    <tr *ngFor="let user of users; index as index">
      <td>
        {{ user.id }}
      </td>
      <td>{{ user.username }}</td>
      <td>
        <app-editable (update)="updated(index, 'name')">
          <ng-template appViewMode>{{ user.name }}</ng-template>
          <ng-template appEditMode>
            <input matInput [formControl]="getControl(index, 'name')" appSaveOnEnter appFocusable>
          </ng-template>

        </app-editable>

      </td>
      <td>
        <app-editable (update)="updated(index, 'email')">
          <span *appViewMode>{{ user.email }}</span>
          <span *appEditMode>
            <input [formControl]="getControl(index, 'email')" appSaveOnEnter appFocusable>
          </span>

        </app-editable>

      </td>

    </tr>


  </table>


</div>
